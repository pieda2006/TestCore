## シェアリングのターゲット

使用期間長

## 現状のシェアリングサービスの課題

個人がシェアリングサービスを利用する又は提供する際に課題として考えいていることは、トラブル対応が最も高い結果となり、利用している人よりも、利用したことがない人のほうが、面識のない人とのやり取りに不安を感じる傾向が強いことがわかる。以下の3点が重要となると考えられる。
- トラブルの解決支援機能
- 面識のない相手を信頼できる仕組み
- 誰にでも扱える簡易な仕組みの構築
![個人におけるシェアリングを利用する上での課題](b2_3_52.png)

## シェアリングプラットフォームの機能

シェアリングプラットフォームで具備すべき機能を以下に定義する。

```plantuml

@startuml
skinparam componentStyle uml2

actor 権利発行者
actor 権利利用者

rectangle 権利流通PF  {
  usecase 権利発行
  usecase 権利利用者変更
  usecase 権利分割
  usecase 権利削除
  usecase 利用者登録
  usecase 利用者診断
  usecase 価値評価
  usecase 発行者登録
  usecase トラブル解決
  usecase 自動決済
}

権利発行 <-- 権利発行者
権利削除 <-- 権利発行者
利用者診断 -> 権利発行者
権利利用者 --> 権利利用者変更 : 権利利用登録,権利譲渡
権利発行者 --> 権利分割
権利利用者 --> 利用者登録
利用者登録 <.. 利用者診断 : include
権利分割 <.. 権利発行 : include
権利分割 <.. 権利削除 : include
価値評価 .> 権利発行 : include
価値評価 -> 権利発行者
発行者登録 <- 権利発行者
トラブル解決 <-- 権利利用者
トラブル解決 <-- 権利発行者
権利利用者 --> 自動決済
@enduml

```

| ユースケース名 | 概要 |
|---|---|
| 権利発行 | 権利を所有するユーザ又はサービス事業者が権利情報を権利流通PFに登録することにより、<br>権利利用者が権利の利用登録をすることにより権利の利用を可能とする。 |
| 権利利用者変更 | 権利利用者が権利を利用可能とするために、権利の利用権の所有者を変更する。 |
| 権利分割 | 権利発行者が権利の分割利用を可能とするため、権利を分割する。<br>ex. 駐車場の1日単位貸し→駐車場15分単位へ変更 |
| 権利削除 | 権利流通PFに登録していた権利情報を削除する。 |
| 利用者登録 | 権利利用者の情報を権利流通PFに登録する。 |
| 利用者診断 | 権利利用者の情報から権利利用者がどのような性格傾向があるかを診断する。 |
| 価値評価 | 権利情報から権利利用権の妥当な基準価格を判断し提供する。 |
| 発行者登録 | 権利を発行するユーザ情報をを登録する。 |
| トラブル解決 | 権利行使時に発生したトラブルを自動的に解決する仕組み。 |
| 自動決済 | 権利の行使を確認後自動的に権利利用料金の決済を行う。 |


## シェアリングプラットフォームの構成

権利情報はBlockChainでノード間で共有する。分散アプリも各ノード上にデプロイされる。各ノード上にデプロイされた分散アプリのAPIは各ユーザ端末上のアプリケーション又はブラウザ上からアクセスされる。

```plantuml

@startuml
skinparam componentStyle uml2

node サービス事業者 as component1 {
  component 利用権情報 as component4
  component 分散アプリ as component7
}
node サービス事業者 as component2 {
  component 利用権情報 as component5
  component 分散アプリ as component8
}
node サービス事業者 as component3 {
  component 利用権情報 as component6
  component 分散アプリ as component9
}

component ユーザ端末 as component10 {
  component 権利発行利用APL as component11
}

component ユーザ端末 as component12 {
  component 権利発行利用APL as component13
}

component ユーザ端末 as component14 {
  component 権利発行利用APL as component15
}

component ウォレット as component16
component ウォレット as component17
component ウォレット as component18
component 基盤提供サービス as component19
component 基盤提供サービス as component20
component 基盤提供サービス as component21

component4 -- component5 : BlockChainで同期
component5 - component6 : BlockChainで同期
component6 -- component4 : BlockChainで同期
component4 - component7
component5 - component8
component6 - component9
component11 -- component9 : 権利操作
component8 -- component13 : 権利操作
component7 -- component15 : 権利操作
component11 -ri- component16
component13 -le- component17
component15 -le- component18
component7 -ri-> component19
component8 -le-> component20
component9 -ri-> component21

rectangle 利用権情報 #white [
  利用情報

  ---
  ・利用権ID
  ---
  ・利用権発行者
  ・利用権所有者
  ・所有権保持者
  ・利用可能時間帯
  ・利用権価値
  ・メタ情報(提供内容によってカスタム)
]

@enduml

NEXT：component22

```
### コンポーネント一覧

| コンポーネント名 | コンポーネント概要 |
|---|---|
| サービス事業者 | サービス事業者は分散APLを作成してユーザへ提供する。<br>また、ノードとしてBlock Chainに参加し利用権情報をサービス事業者間で共有する。<br>利用権利情報はBlock Chain上で共有しているのでどのサービス事業者からも参照が可能。 |
| 利用権情報 | サービス事業者が登録した利用権情報を保持する。<br>利用権利情報はBlock Chainでサービス事業者間で共有される。 |
| 分散アプリ | 利用権の参照用のAPIをユーザに提供する。<br>利用権の予約、行使開始、行使完了時に自動決済を行う。 |
| ユーザ端末 | 権利利用者又は所有権保持者の端末。 |
| 権利発行利用APL | 権利利用者が分散APLにアクセスして<br>利用権情報の参照、予約を行うことを可能にするAPL。<br>所有権保持者が分散APLにアクセスして利用権を<br>発行することを可能にするAPL。 |
| ウォレット | 権利利用者,所有権保持者が仮想通貨の秘密鍵を<br>管理するためのウォレット。 |

## プラットフォームの拡大方法

サービス事業者が定期的に費用を共同で積立を行い、プラットフォームに追加したいサービスがあった場合に全事業者に対して提案する。各事業者は提案を受けて承認、非承認を決定し過半数の承認を得られた場合、共益費から新サービス開発委託先に対して開発費が支払われ新サービスの開発を行う。開発したサービスは承認事業者、非承認事業者にかかわらず全ての事業者が機能を利用可能とする。これを繰り返すことでプラットフォーム機能を拡張していく。
サービス仕様書、サービス設計書、契約書のやり取りは全てブロックチェーン上で管理される。
※同じ仕組みを利用ユーザ提供ユーザに対する保険としても適用可能。

```plantuml

@startuml
skinparam componentStyle uml2

database 共益費
component サービス事業者 as サービス事業者1
component サービス事業者 as サービス事業者2
component サービス事業者 as サービス事業者3
component 開発委託先
file 新規サービス

サービス事業者1 -up-> 共益費 : 月支払い
サービス事業者2 -up-> 共益費 : 月支払い
サービス事業者3 -up-> 共益費 : 月支払い

サービス事業者3 -do-> 新規サービス : 提案
サービス事業者2 -do-> 新規サービス : 承認
サービス事業者1 -do-> 新規サービス : 承認

共益費 -le-> 開発委託先 : 費用支払い
開発委託先 -ri-> 新規サービス : 開発

@enduml
```

## トラブル解決

### 相互監視システム

不正報告に対して過半数の承認を得られれば不正行為として認められ、不正ユーザには罰則が課され不正報告者には報酬が支払われる。報酬、罰則の支払いは自動決済で行われる。

```plantuml

@startuml
skinparam componentStyle uml2

component 権利利用者 as 権利利用者1
component 権利利用者 as 権利利用者2
component 権利利用者_不正 as 権利利用者3
component シェアリングプラットフォーム {
  component 合意形成機能
}

権利利用者1 <-ri-> 権利利用者2 : 不正行動を監視
権利利用者2 <-do-> 権利利用者3 : 不正行動を監視
権利利用者3 <-up-> 権利利用者1 : 不正行動を監視
権利利用者2 --do-> 合意形成機能 : 不正行動報告
合意形成機能 --up-> 権利利用者2 : 報酬
合意形成機能 -le-> 権利利用者3 : 罰則


@enduml
```

## ユースケースシナリオ
### 利用権登録
### 利用権予約
```plantuml

@startuml
skinparam componentStyle uml2
actor 利用ユーザ
activate 利用ユーザ
  利用ユーザ ->  権利発行利用APL
  activate 権利発行利用APL
    rnote over 権利発行利用APL #white
      利用したい権利を検索する。
    end rnote
    利用ユーザ <--  権利発行利用APL
  deactivate 権利発行利用APL
deactivate 利用ユーザ
@enduml
```
### 利用権行使
- 利用権使用者が利用権を行使した場合、利用権発行者に対して利用権価値分の支払いを行う。

### 利用権削除

## 検討事項
| No | 検討内容 | 状態 | 状況 |
|---|---|---|---|
| 1 | 利用権情報の登録項目。 | 着手中 | [2019/07/05]<br>実際のシェアリングサービスでは何を登録させているかを確認する必要がある。 |
| 2 | 利用権情報を保持するプラットフォーム。 | 着手中 |  [2019/07/05]<br>候補としてはEtherium, ヘデラハッシュグラフ等がある。<br>ヘデラハッシュグラフのEtheriumとの差分は調査中。 |
| 3 | トラブル自動解決の方法。 | 未着手 | [2019/07/08]<br>ルールエンジンでトラブル解決のためのロジックは組むことができる。<br>スマートコントラクトのAPIと組み合わせてトラブル自動解決を実施する。 |
| 4 | 利用者の特性分析方法。 | 未着手 | [2019/07/09]<br>Dark Triad(サイコパシー, ナルシシズム, マキャベリアニズム)の<br>パーソナリティ診断で判断できないか検討。 |
| 5 | 発行者, 利用者の個人情報管理方法。 | 未着手 |  |
| 6 | スマートコントラクト上で手数料の定義できるか。 | 未着手 | |
| 7 | 分散されたどのノードへアクセスするかはどう決められるのか。 | 未着手 | |
| 8 | 分散APLから登録されているチェーンの内容を検索できるのか。 | 未着手 | |
| 9 | ハッシュグラフで使用されているゴシッププロトコルでは<br>相手が受けていないイベントをどうやってしるのか。 | 未着手 | |


## 参考文献
